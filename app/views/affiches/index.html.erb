<div class="content_wrapper">
  <%= render :partial => 'filters' %>
  <div class="affiches_list">
    <div class="list_settings">
      <div class="presentation">
      </div>
      <div class="sort affiches">
        <p>Сортировка:</p>
        <ul>
          <li class='<%= @presenter.order_by_popularity? ? 'selected' : 'not_selected' %>'>
            <%= link_to 'По популярности', affiches_path(@presenter.query.merge(order_by: 'popularity')) %>
          </li>
          <li class='<%= @presenter.order_by_popularity? ? 'not_selected' : 'selected' %>'>
            <%= link_to 'По ближайшему сеансу', affiches_path(@presenter.query.merge(order_by: 'nearness')) %>
          </li>
        </ul>
      </div>
    </div>

    <% if @presenter.collection.any? %>
      <ul class="items_list list">
        <%= render :partial => 'affiche_list' %>
      </ul>
    <% else %>
      <p class="empty_items_list">По заданным параметрам ничего не найдено ;(</p>
    <% end %>
  </div>
</div>

<%= paginate @presenter.paginated_collection %>
